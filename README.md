# ApiMinerPushDoc

There are two Proof of Green-energy Generation(PoGG) data report modes in Arkreen API Miner:
* Push Mode: User push PoGG data by themself, the PoGG data must be composed according to the PoGG report rules of Arkreen Network.
* Pull Mode: Arkreen Network pull PoGG data from user, user needs to provide access cridential/endpoint to Arkreen Network.

This document for the Arkreen API Miner Push Mode only.



# Prerequisites

If you want to became to an owner of Arkreen API Miner, you need to satify the following requirements:
* You must be a business user, individual user is not supported.
* You must have a directly business cooperation with Arkreen Network.
* You must have a cloud services/devices that can collect and report PoGG data to Arkreen Network 24*7*365 manner.




# API Miner Process Flow

* The owner of API Miner generates API Miner(address and private key), the API miner can be generated by `Ethereum` compatible wallets
    * Arkreen API Miner must be registered before they report PoGG data to Arkreen Network.
    * Arkreen only accept business partner to registering API Miner, so there are no dApps to register API miner.
* Contact [Arkreen Network](info@arkreen.com) to register the generated API miner and pay the registration fee
    * User must pay the fee for API Miner registration.
    * The miner address is the required parameter to register, private key is needless.
* Using Arkreen Console dApp to onboarding API miner
    * User needs to prepare the required properties for onboarding API Miner, the required properties include:
        * The capacity of your power plant, for example: 5000, the unit is `Wh`(Watt Hour)
        * The location of your power plant, for example: `USA/California/Los Angeles`
    * User can onboard API Miner by Arkreen Console in a desktop browser with wallet extension, for example: `MetaMask`
        * Test only environment: [Arkreen Console](https://pre.console.arkreen.work/)
        * Production environment: [Arkreen Console](https://testconsole.arkreen.com/)
* Using the Arkreen JSON RPC API to report PoGG data to Arkreen Network periodly
    * To get the maxium reward, API miner must report the PoGG data every hour and each PoGG report includes 12 green generation samples(a sample five minutes interval)
    * For more information of PoGG, please refer to: [Proof of Green-energy Generation and Reward Distribution](https://docs.arkreen.com/technical-details/proof-of-green-energy-generation).
    * For more information of PoGG data, please refere to: [tx_reportMinerPoGG](./docs/tx_reportMinerPoGG.md)




# JSON RPC APIs for API Miner

| API                                                | Description                                                      |
| -------------------------------------------------- | ---------------------------------------------------------------- |
| [tx_reportMinerPoGG](./docs/tx_reportMinerPoGG.md) | JSON RPC API that be used to report PoGG data to Arkreen Network |




# Sample Code

This sample code will send the random generated PoGG report data to Arkreen Network testnet.

## Prepare the environment

```
git clone git@github.com:arkreen/ApiMinerPushDoc.git
cd ApiMinerPushDoc/sample
npm install

```

## Config the API Miner

* Using any text editor to open miner.js file
* Change the minerAddress variable to your miner address
* Change the minerPrivateKey variable to your miner private key


## Run the API Miner

```
node app.js
```

When the application running, if the miner has not any PoGG report, the application will report the first PoGG data with 1 green generation sample, after that, the application will report PoGG data to Arkreen Network every hour with 12 green generation sample.